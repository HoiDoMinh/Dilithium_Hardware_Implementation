
module poly_decompose(
    input signed [8191:0] a_in,
    output signed [8191:0] a1_out,
    output signed [8191:0] a0_out
   
);
    localparam N = 256;
    
    wire signed [31:0] a [0:N - 1];
    wire signed [31:0] a1 [0:N - 1];	
    wire signed [31:0] a0 [0:N - 1];
   
    generate
        genvar x;
        for (x = 0; x < N; x = x + 1) begin
		    assign a[x] = a_in[32 * x + 31:32 * x];

		    decompose decompose_inst(.a(a_in[x]),.a0(a0[x]),.a1(a1[x]));
		    assign a1_out[32 * x + 31:32 * x] = a1[x];
		    assign a0_out[32 * x + 31:32 * x] = a0[x];
		end
	endgenerate

endmodule 